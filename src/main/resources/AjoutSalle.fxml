<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.web.WebView?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.effect.*?>
<?import javafx.scene.paint.Color?>
<?import javafx.scene.shape.Rectangle?>
<?import javafx.scene.shape.Circle?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.SalleController"
            prefHeight="700.0" prefWidth="900.0"
            style="-fx-background-color: linear-gradient(to bottom right, #fcfcfc, #b1c8f1);">

    <!-- Decorative elements -->
    <Circle radius="200" style="-fx-fill: radial-gradient(radius 100%, rgba(26, 188, 156, 0.1), transparent);"
            AnchorPane.leftAnchor="-100" AnchorPane.topAnchor="-100"/>
    <Rectangle width="300" height="700" style="-fx-fill: linear-gradient(to bottom, rgba(52, 152, 219, 0.08), transparent);"
               AnchorPane.rightAnchor="0" AnchorPane.topAnchor="0"/>

    <VBox alignment="TOP_CENTER" spacing="30"
          AnchorPane.leftAnchor="50.0" AnchorPane.rightAnchor="50.0"
          AnchorPane.topAnchor="40.0" AnchorPane.bottomAnchor="40.0">

        <!-- Header -->
        <HBox alignment="CENTER" spacing="15">
            <Rectangle width="50" height="4" arcWidth="5" arcHeight="5"
                       style="-fx-fill: linear-gradient(to right, #000000, #ff0101);"/>
            <Label text="ðŸŽ¬ Nouvelle Salle"
                   style="-fx-font-size: 32px; -fx-font-weight: bold; -fx-text-fill: #4169e1; -fx-font-family: 'Segoe UI'; -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.2), 3, 0.5, 0, 1);"/>
            <Rectangle width="50" height="4" arcWidth="5" arcHeight="5"
                       style="-fx-fill: linear-gradient(to right, #000000, #ff0101);"/>
        </HBox>

        <!-- Form -->
        <GridPane hgap="25" vgap="25"
                  style="-fx-background-color: rgb(0,0,0); -fx-background-radius: 20; -fx-padding: 35; -fx-border-color: rgb(0,0,0); -fx-border-radius: 20; -fx-border-width: 1; -fx-effect: dropshadow(three-pass-box, rgb(0,0,0), 15, 0, 0, 5);"
                  maxWidth="800">

            <columnConstraints>
                <ColumnConstraints halignment="RIGHT" minWidth="150" prefWidth="150"/>
                <ColumnConstraints halignment="LEFT" minWidth="250" prefWidth="250"/>
            </columnConstraints>

            <!-- Nom de la Salle -->
            <Label text="Nom de la salle:" GridPane.rowIndex="0" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <TextField fx:id="nomSalleField" GridPane.rowIndex="0" GridPane.columnIndex="1"
                       promptText="Entrez le nom de la salle"
                       style="-fx-background-radius: 8; -fx-background-color: rgba(255,255,255,0.9); -fx-padding: 8; -fx-font-size: 14px;"/>

            <!-- Nombre de places -->
            <Label text="Nombre de places:" GridPane.rowIndex="1" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <Spinner fx:id="nbrPlacesSpinner" GridPane.rowIndex="1" GridPane.columnIndex="1"
                     style="-fx-background-radius: 8; -fx-background-color: rgba(255,255,255,0.9);"/>

            <!-- Type de salle -->
            <Label text="Type de salle:" GridPane.rowIndex="2" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <ComboBox fx:id="typeSalleCombo" GridPane.rowIndex="2" GridPane.columnIndex="1"
                      promptText="SÃ©lectionnez un type"
                      style="-fx-background-radius: 8; -fx-background-color: rgba(255,255,255,0.9); -fx-font-size: 14px;"/>

            <!-- Ã‰tat de la salle -->
            <Label text="Ã‰tat de la salle:" GridPane.rowIndex="3" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <ComboBox fx:id="etatSalleCombo" GridPane.rowIndex="3" GridPane.columnIndex="1"
                      promptText="SÃ©lectionnez l'Ã©tat"
                      style="-fx-background-radius: 8; -fx-background-color: rgba(255,255,255,0.9); -fx-font-size: 14px;"/>

            <!-- Image -->
            <Label text="SÃ©lectionner une image:" GridPane.rowIndex="4" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <HBox spacing="10" GridPane.rowIndex="4" GridPane.columnIndex="1">
                <TextField fx:id="imageSalleField" promptText="Aucun fichier sÃ©lectionnÃ©"
                           editable="false"
                           style="-fx-background-radius: 8 0 0 8; -fx-background-color: rgba(255,255,255,0.9); -fx-padding: 8; -fx-font-size: 14px;" HBox.hgrow="ALWAYS"/>
                <Button text="Parcourir..." onAction="#handleImageUpload"
                        style="-fx-background-color: #ff0101; -fx-text-fill: white; -fx-font-size: 14px; -fx-background-radius: 0 8 8 0; -fx-padding: 8 15; -fx-cursor: hand;"/>
            </HBox>

            <!-- AperÃ§u de l'image -->
            <Label text="AperÃ§u de l'image:" GridPane.rowIndex="5" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <StackPane GridPane.rowIndex="5" GridPane.columnIndex="1">
                <ImageView fx:id="salleImageView" fitHeight="180" fitWidth="180" preserveRatio="true"
                           style="-fx-effect: dropshadow(gaussian, rgba(0,0,0,0.3), 10, 0.3, 0, 0);"/>
            </StackPane>

            <!-- Films associÃ©s -->
            <Label text="Films associÃ©s:" GridPane.rowIndex="6" GridPane.columnIndex="0"
                   style="-fx-text-fill: #ecf0f1; -fx-font-size: 14px; -fx-font-weight: bold;"/>
            <ListView fx:id="filmListView" GridPane.rowIndex="6" GridPane.columnIndex="1"
                      style="-fx-background-radius: 8; -fx-background-color: rgba(255,255,255,0.9); -fx-font-size: 14px;"
                      prefHeight="200" />
        </GridPane>

        <!-- Submit button -->
        <Button fx:id="ajouterSalleButton" text="Ajouter la salle" onAction="#ajouterSalle"
                style="-fx-background-color: linear-gradient(to right, #ff0101, #ff0101); -fx-text-fill: white; -fx-font-size: 16px; -fx-font-weight: bold; -fx-background-radius: 10; -fx-padding: 12 30; -fx-effect: dropshadow(three-pass-box, rgba(0,0,0,0.2), 8, 0, 0, 2); -fx-cursor: hand;"/>
    </VBox>
</AnchorPane>
