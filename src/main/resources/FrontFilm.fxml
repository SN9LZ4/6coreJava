<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.AnchorPane?>
<?import javafx.scene.layout.TilePane?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.control.ComboBox?>
<?import java.lang.String?>
<?import javafx.collections.FXCollections?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.effect.DropShadow?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.shape.Line?>

<AnchorPane xmlns="http://javafx.com/javafx"
            xmlns:fx="http://javafx.com/fxml"
            fx:controller="Controllers.FrontController"
            prefWidth="1200.0" prefHeight="800.0"
            style="-fx-background-color: linear-gradient(to bottom right, #fcfcfc, #b1c8f1);">



    <!-- Container principal avec padding uniforme -->
    <VBox spacing="24"
          AnchorPane.topAnchor="88.0"
          AnchorPane.leftAnchor="40.0"
          AnchorPane.rightAnchor="40.0"
          AnchorPane.bottomAnchor="30.0">

        <!-- Panneau de recherche épuré -->
        <VBox spacing="20"
              style="-fx-background-color: white;
                     -fx-background-radius: 16px;
                     -fx-effect: dropshadow(gaussian, rgba(0,0,0,0.08), 20, 0, 0, 4);
                     -fx-padding: 28 30;">

            <HBox alignment="CENTER_LEFT">
                <Label text="Recherche"
                       style="-fx-font-size: 22px;
                              -fx-text-fill: #2C3E50;
                              -fx-font-weight: bold;
                              -fx-font-family: 'Poppins', 'Montserrat', 'Segoe UI';"/>
                <Label text=" avancée"
                       style="-fx-font-size: 22px;
                              -fx-text-fill: #4169e1;
                              -fx-font-weight: bold;
                              -fx-font-family: 'Poppins', 'Montserrat', 'Segoe UI';"/>
            </HBox>

            <Line startX="0" endX="1120" style="-fx-stroke: #e8ecef; -fx-stroke-width: 1;"/>

            <HBox spacing="20" alignment="CENTER_LEFT">
                <TextField fx:id="titreField" promptText="Titre du film" prefWidth="220"
                           style="-fx-background-color: #f7f9fc;
                                  -fx-background-radius: 10px;
                                  -fx-border-color: #e3e8ef;
                                  -fx-border-radius: 10px;
                                  -fx-padding: 12 18;
                                  -fx-font-size: 14px;"/>

                <TextField fx:id="directeurField" promptText="Réalisateur" prefWidth="220"
                           style="-fx-background-color: #f7f9fc;
                                  -fx-background-radius: 10px;
                                  -fx-border-color: #e3e8ef;
                                  -fx-border-radius: 10px;
                                  -fx-padding: 12 18;
                                  -fx-font-size: 14px;"/>

                <ComboBox fx:id="genreComboBox" promptText="Genre" prefWidth="200"
                          style="-fx-background-color: #f7f9fc;
                                 -fx-background-radius: 10px;
                                 -fx-border-color: #e3e8ef;
                                 -fx-border-radius: 10px;
                                 -fx-font-size: 14px;"/>

                <TextField fx:id="noteField" promptText="Note min." prefWidth="130"
                           style="-fx-background-color: #f7f9fc;
                                  -fx-background-radius: 10px;
                                  -fx-border-color: #e3e8ef;
                                  -fx-border-radius: 10px;
                                  -fx-padding: 12 18;
                                  -fx-font-size: 14px;"/>

                <Region HBox.hgrow="ALWAYS"/>

                <Button text="Réinitialiser" onAction="#onResetClick"
                        style="-fx-background-color: white;
                               -fx-text-fill: #4169e1;
                               -fx-border-color: #4169e1;
                               -fx-border-radius: 10px;
                               -fx-background-radius: 10px;
                               -fx-padding: 12 24;
                               -fx-font-weight: bold;
                               -fx-font-size: 14px;
                               -fx-cursor: hand;"/>

                <Button text="Rechercher" onAction="#onRechercherClick"
                        style="-fx-background-color: #4169e1;
                               -fx-text-fill: white;
                               -fx-font-weight: bold;
                               -fx-background-radius: 10px;
                               -fx-padding: 12 24;
                               -fx-font-size: 14px;
                               -fx-effect: dropshadow(gaussian, rgb(65,105,225), 12, 0, 0, 2);
                               -fx-cursor: hand;"/>
            </HBox>
        </VBox>

        <!-- Section Résultats -->
        <VBox spacing="22" VBox.vgrow="ALWAYS">
            <HBox alignment="CENTER_LEFT" spacing="12">
                <VBox spacing="2">
                    <Label text="Résultats"
                           style="-fx-font-size: 20px;
                                  -fx-text-fill: #2C3E50;
                                  -fx-font-weight: bold;
                                  -fx-font-family: 'Poppins', 'Montserrat', 'Segoe UI';"/>

                    <Label fx:id="resultCount" text="0 films trouvés"
                           style="-fx-font-size: 14px;
                                  -fx-text-fill: #8395a7;
                                  -fx-font-family: 'Poppins', 'Montserrat', 'Segoe UI';"/>
                </VBox>

                <Region HBox.hgrow="ALWAYS"/>

                <ComboBox fx:id="sortComboBox" promptText="Trier par"
                          style="-fx-background-color: white;
                                 -fx-background-radius: 10px;
                                 -fx-border-color: #e3e8ef;
                                 -fx-border-radius: 10px;
                                 -fx-font-size: 14px;">
                    <items>
                        <FXCollections fx:factory="observableArrayList">
                            <String fx:value="Note (décroissant)" />
                            <String fx:value="Date de sortie" />
                            <String fx:value="Titre (A-Z)" />
                        </FXCollections>
                    </items>
                </ComboBox>
            </HBox>

            <!-- Zone de films avec scroll élégant -->
            <ScrollPane fx:id="filmContainerScroll"
                        fitToWidth="true"
                        hbarPolicy="NEVER"
                        vbarPolicy="AS_NEEDED"
                        style="-fx-background-color: transparent;
                               -fx-border-color: transparent;
                               -fx-padding: 5 0;">
                <TilePane fx:id="filmContainer"
                          prefColumns="3"
                          hgap="25"
                          vgap="25"
                          style="-fx-padding: 5 0 20 0;">
                    <!-- Les cartes de films seront ajoutées dynamiquement ici -->
                </TilePane>
            </ScrollPane>
        </VBox>
    </VBox>
</AnchorPane>